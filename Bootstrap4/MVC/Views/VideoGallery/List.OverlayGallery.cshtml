@model Telerik.Sitefinity.Frontend.Mvc.Models.ContentListViewModel

@using Telerik.Sitefinity;
@using Telerik.Sitefinity.Frontend.Mvc.Helpers;
@using Telerik.Sitefinity.Frontend.Media.Mvc.Models.VideoGallery;
@using Telerik.Sitefinity.Modules.Pages;

@Html.StyleSheet(Url.WidgetContent("assets/magnific/magnific-popup.css"), "head", false)
@Html.Script(ScriptRef.JQuery, "top", false)
@Html.Script(Url.WidgetContent("assets/magnific/jquery.magnific-popup.min.js"), "bottom", false)
@Html.Script(Url.WidgetContent("Mvc/Scripts/VideoGallery/overlay-gallery.js"), "bottom", false)

<div class="sf-Gallery-thumbs-container">
    <ul class="sf-Gallery-thumbs sf-Gallery-thumbs--video list-unstyled clearfix @Model.CssClass">
    
        @foreach (var item in Model.Items)
        {
            var title = item.Fields.Title;
            var alternativeText = System.Text.RegularExpressions.Regex.Replace(title, @"[^\w\d_-]", "");
        <li class="sf-Gallery-thumb d-inline-block">
            <a class="video-link"
                href="@item.Fields.MediaUrl"
                title="@title"
                aria-label="Open @title in modal dialog">
                <img src="@(((VideoThumbnailViewModel)item).ThumbnailUrl)" alt="@alternativeText" 
                    data-detail-url="@HyperLinkHelpers.GetDetailPageUrl(item, ViewBag.DetailsPageId, ViewBag.OpenInSamePage, Model.UrlKeyPrefix)" aria-labelledby="@Html.UniqueId("VideoTitle")" />
            </a>
            <h3 id="@Html.UniqueId("VideoTitle")">@title</h3>
        </li>

        }
    </ul>
</div>

@if (Model.ShowPager)
{
    @Html.Action("Index", "ContentPager", new
       {
           currentPage = Model.CurrentPage,
           totalPagesCount = Model.TotalPagesCount.Value,
           redirectUrlTemplate = ViewBag.RedirectPageUrlTemplate
       })
}